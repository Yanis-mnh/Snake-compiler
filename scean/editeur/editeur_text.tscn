[gd_scene load_steps=5 format=3 uid="uid://pdbqmfai7ilx"]

[ext_resource type="Script" path="res://scean/editeur/editeur_text.gd" id="1_enrew"]
[ext_resource type="Theme" uid="uid://dfns3jqit1rm4" path="res://editeur_text.tres" id="1_mcjvt"]
[ext_resource type="Script" path="res://scean/editeur/TextEdit.gd" id="3_dib2g"]
[ext_resource type="Script" path="res://scean/editeur/setSizeconsoleText.gd" id="4_x4inc"]

[node name="editeur_text" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_enrew")

[node name="ColorRect" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0862745, 0.101961, 0.188235, 1)

[node name="TextEdit" type="TextEdit" parent="."]
layout_mode = 2
anchor_top = 0.048
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -0.104
size_flags_horizontal = 2
draw_tabs = true
scroll_smooth = true
script = ExtResource("3_dib2g")

[node name="title bar" type="Control" parent="."]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 31.0
grow_horizontal = 2
theme = ExtResource("1_mcjvt")

[node name="ColorRect" type="ColorRect" parent="title bar"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0.0980392, 0.0980392, 0.0980392, 1)

[node name="MenuBar" type="MenuBar" parent="title bar"]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_left = 8.0
offset_right = -810.0
offset_bottom = 31.0
grow_horizontal = 2
mouse_filter = 1
flat = true

[node name="HBoxContainer" type="HBoxContainer" parent="title bar/MenuBar"]
layout_mode = 1
anchors_preset = -1
anchor_top = -0.0322581
anchor_right = 0.497006
anchor_bottom = 0.935484
offset_top = 1.0
offset_right = 95.0
offset_bottom = 1.0
grow_vertical = 2
metadata/_edit_use_anchors_ = true

[node name="MenuButton" type="MenuButton" parent="title bar/MenuBar/HBoxContainer"]
custom_minimum_size = Vector2(70, 30)
layout_mode = 2
text = "File"
switch_on_hover = true
item_count = 5
popup/item_0/text = "New File"
popup/item_0/id = 0
popup/item_1/text = "load file"
popup/item_1/id = 1
popup/item_2/text = "save file"
popup/item_2/id = 2
popup/item_3/text = "save as file"
popup/item_3/id = 3
popup/item_4/text = "Quit"
popup/item_4/id = 4

[node name="MenuButtonAnalyse" type="MenuButton" parent="title bar/MenuBar/HBoxContainer"]
custom_minimum_size = Vector2(70, 30)
layout_mode = 2
text = "Compile"
switch_on_hover = true
item_count = 3
popup/item_0/text = "analyse lexical"
popup/item_0/id = 0
popup/item_1/text = "analyse syntaxic"
popup/item_1/id = 1
popup/item_2/text = "analyse semantique"
popup/item_2/id = 2

[node name="title" type="Label" parent="title bar"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -23.0
offset_right = 23.0
offset_bottom = 30.0
grow_horizontal = 2
theme_override_colors/font_color = Color(0.776471, 0.776471, 0.776471, 1)
text = "snake"
horizontal_alignment = 1
vertical_alignment = 1

[node name="OpenFileWindow" type="FileDialog" parent="."]
initial_position = 1
title = "Open a File"
size = Vector2i(600, 400)
transient = false
ok_button_text = "Ouvrir"
cancel_button_text = "Anuller"
file_mode = 0
access = 2
filters = PackedStringArray(".snk")

[node name="SaveFileWindow" type="FileDialog" parent="."]
initial_position = 1
size = Vector2i(600, 400)
transient = false
ok_button_text = "Enregistrer"
cancel_button_text = "Anuller"
access = 2
filters = PackedStringArray("..snk")

[node name="Console" type="Window" parent="."]
initial_position = 2
title = "Console"
size = Vector2i(500, 500)
visible = false
min_size = Vector2i(250, 250)

[node name="consoleText" type="RichTextLabel" parent="Console"]
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("4_x4inc")

[connection signal="text_changed" from="TextEdit" to="." method="_on_text_edit_text_changed"]
[connection signal="file_selected" from="OpenFileWindow" to="." method="_on_open_file_window_file_selected"]
[connection signal="file_selected" from="SaveFileWindow" to="." method="_on_save_file_window_file_selected"]
[connection signal="close_requested" from="Console" to="." method="_on_console_close_requested"]
